<div class="feed-container">
<div class="profile-img "></div>
<%= form_for @post,:html => {:class => 'form'}  do |form|%>
  <% if @post.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@post.errors.count, "error") %> prohibited this post from being saved:</h2>
      <ul>
        <% @post.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
     <%= form.text_field :content, class:"form-input", size:"50", placeholder: "What's on your mind, Filip?"%>
    <%= form.submit class:"submit-btn" %>
<% end %>
</div>
<br>
<div class="container-sm">
  <% @posts.each do |post| %>
    <div class="card">
      <div class="profile">
        <div class="profile-img"></div>
        <p class="username"><%= post.user.first_name %> <%= post.user.last_name  %></p>
        <div class="dropdown">
          <button class="btn" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            <%= inline_svg_tag "dots-y-svgrepo-com", class: 'icon dots' %>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
            <li><%= link_to "Edit", edit_post_path(post), class:"dropdown-item" %>
            <li><%= link_to "Delete", post_path(post), data: { confirm: "Are you sure you want to delete this post?" } , :method => :delete, class:"dropdown-item" %>
            </li>
          </ul>
        </div>
      </div>
      <div class="card-body">
        <%=link_to post.content , post, class:"fs-4" %>
      </div>
      <div class="interaction">
        <div class="like">Like</div>
        <div class="comment">Comment</div>
      </div>
      <div class="comment-section">
        <%= render 'comments/form', comment: Comment.new %>
        <%#= form_with(model: comment) do |form| %>
          <%# if comment.errors.any? %>
<!--            <div id="error_explanation">-->
<!--              <h2><%#= pluralize(comment.errors.count, "error") %> prohibited this comment from being saved:</h2>-->
<!--              <ul>-->
                <%# comment.errors.each do |error| %>
<!--                  <li><%#= error.full_message %></li>-->
                <%# end %>
<!--              </ul>-->
<!--            </div>-->
          <%# end %>
<!--          <div class="field">-->
            <%#= form.text_field :body, class:"form-input", size:"50" %>
<!--          </div>-->
<!--          <div class="actions">-->
            <%#= form.submit %>
<!--          </div>-->
        <%# end %>
      </div>
    </div>
    <br>
  <% end %>
</div>



